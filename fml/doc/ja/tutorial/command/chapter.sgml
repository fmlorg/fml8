<!--
	$FML: chapter.sgml,v 1.2 2001/10/12 11:14:19 fukachan Exp $
-->

<chapter id="fml.command.op">
	<title>
	コマンド: fml をメールで操作する
	</title>

<para>
fml にメールで文字列(コマンド)を送り込むことで、fml に特定の処理をして
もらうことができます。例えば、メンバーの登録、削除や、過去の記事を取り
寄せるなどの処理です。
</para>

<para>
fml 5.0  では
<screen>
メールによるコマンド処理
makefml によるコマンド処理
CGI でのコマンド処理
</screen>
これらすべての機能が FML::Command:: クラスのモジュールを使うように
設計されています。
</para>


<sect1 id="fml.command.module.hierarchy">
	<title>
	FML::Command クラス以下の構成
	</title>

<para>
FML::Command:: クラスは以下のような構成になっています。
<screen>
FML::Command.pm		FML::Command クラス以下への入口
FML::Command::ACL	ACL
FML::Command::Utils	よもやまの定義
FML::Command::User	ユーザ用コマンド群
FML::Command::Admin	ユーザ用コマンド群
</screen>
例えば、(メールでの)ユーザ用のコマンドの場合
FML::Command.pm を経由して
FML::Command::User::コマンド.pm
モジュールを使うことになります。
</para>

<sect2>
	<title> (メールでの)一般ユーザ用コマンド </title>
<para>
FML::Process::Command.pm から
FML::Command.pm 経由で
FML::Command::User::コマンド.pm
を用います。
</para>

<para>
最終的に
FML::Command::Admin::コマンド.pm
を使うモジュールもあります。
例えば登録と削除の実作業は
FML::Command::Admin::コマンド.pm
が行なっています。この場合
FML::Command::User::コマンド.pm
のコマンドは confirm を行なうための wrapper です。
</para>
</sect2>

<sect2>
	<title> (メールでの) adminコマンド </title>

<para>
FML::Process::Command.pm から
FML::Command.pm 経由で
FML::Command::Admin::コマンド.pm
を用います。
</para>

</sect2>

<sect2>
	<title> makefml のコマンド </title>

<para>
FML::Process::Configure.pm から
FML::Command.pm 経由で
FML::Command::Admin::コマンド.pm
を用います。
</para>

</sect2>

<sect2>
	<title> CGI （予定） </title>

<para>
FML::Process::CGI.pm から
FML::Command.pm 経由で
FML::Command::Admin::コマンド.pm
を用います（予定）。
</para>

</sect2>


</sect1>


<!-- コマンドの例 -->
&sect.command.internal;


<!-- コマンドの拡張例 -->
&sect.command.extension;


</chapter>
