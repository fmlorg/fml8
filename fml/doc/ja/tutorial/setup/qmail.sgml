<!--
   $FML: qmail.sgml,v 1.4 2005/06/25 15:11:37 fukachan Exp $
-->


<sect1 id="setup.qmail.aliases">
	<title>
	メールサーバの設定 (qmail)
	</title>

<para>
makefml newml は次のような qmail 用の設定ファイルを作ります。
<screen>
~fml/.qmail-fml:org-elena
~fml/.qmail-fml:org-elena-ctl
</screen>
よって
<screen>
/var/qmail/control/virtualdomains
</screen>
に、あらかじめ次のような設定を仕込んでおけば、
makefml newml を実行するだけで自動的にＭＬが有効になります。
<screen>
fml.org:fml-fml.org
</screen>
</para>

<warning>
<para>
この設定は、ＭＬ用に一つのドメインをまるまる使うことを前提としています。
</para>
</warning>

<sect2>
	<title>
	バーチャルドメインの場合
	</title>

<para>
makefml newml を実行するだけで自動的にＭＬが有効になるようにするには
/var/qmail/control/virtualdomains
に設定が必要です。しかしながら、このファイルは通常ユーザ fml さんには
編集する権限がないので、ＭＬ管理者が設定を追加して下さい。
<screen>
ドメイン:fml-ドメイン

例:

[/var/qmail/control/virtualdomains]

virtual.example.com:fml-virtual.example.com
</screen>
この追加は全てのドメイン分必要なことに注意して下さい。
</para>

<para>
また、そのドメインを /var/qmail/control/rcpthosts にも追加する必要があ
ります。
<screen>
[/var/qmail/control/rcpthosts]

virtual.example.com
</screen>
</para>

<para>
この２つのファイルを編集したら qmail-send に HUP シグナルを送ってください。
<screen>
# kill -HUP qmail-sendのプロセスID
</screen>
</para>

</sect2>

</sect1>
