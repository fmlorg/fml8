<!--
   $FML: cgi.admin.sgml,v 1.2 2002/07/04 15:27:26 fukachan Exp $
-->

<chapter id="setup.cgi">
	<title>
	ドメインマスタ CGI の設定
	</title>


<para>
参照: CGI の内部構造については
<link linkend="internal.cgi.method">
<xref linkend="internal.cgi.method">
</link>
を参照して下さい。
</para>

<warning>
<para>
apache で suexec を使うことを前提としています。
</para>
</warning>


<sect1 id="setup.cgi.overview">
	<title>
	makefml newml は CGI を用意する
	</title>

<para>
makefml newml を実行すると
CGI による設定ツールがデフォルトで用意されています。
この CGI は二種類あり、
ドメイン全体を管理するものとそれぞれのＭＬを管理する CGI と両方あります。
</para>

<warning>
<para>
現在はドメイン全体を管理する CGI しかありません。
</para>
</warning>

<para>
例えば、elena@fml.org ＭＬを作成すると
fml.org の全ＭＬを管理する CGI
<screen>
http://lists.fml.org/~fml/cgi-bin/fml/ドメイン/admin/config.cgi

例
http://lists.fml.org/~fml/cgi-bin/fml/fml.org/admin/config.cgi
</screen>
と elena ML だけを管理する CGI
<screen>
http://lists.fml.org/~fml/cgi-bin/fml/ドメイン/ml-admin/ＭＬ名/config.cgi

例
http://lists.fml.org/~fml/cgi-bin/fml/fml.org/ml-admin/elena/config.cgi
</screen>
の両方が makefml により用意されます。
</para>

<para>
デフォルトでは、
<screen>
http://lists.fml.org/~fml/cgi-bin/fml/fml.org/.htaccess
</screen>
というファイルが作られ、アクセス制限がかかっています。
この .htaccess を適切なものに書き換えて下さい。
</para>

</sect1>


<sect1 id="setup.cgi.admin.cgi.overview">
	<title>
	例: ドメインマスタ CGI の画面
	</title>

<para>
この CGI は
「makefml を実行できる権限を与えても良いけれど、
でも、UNIX のコマンドラインを使うのがちょっと辛い」
という人を想定しています。
よって、ＭＬの作成などができるわけですが、
makefml のすべての機能が使えるわけでもありません。 
</para>

<para>
画面を見るとわかる通り、
CGI で可能な項目は makefml のサブセットとなっています。
<screen>
例: CGI トップ画面

                     @home.fml.org CGI for configuration

fml admin menu             fml CGI interface for @home.fml.org ML's
mailing list:
[elena]              左のナビゲーションバーから、ＭＬ(mailing list)とコマ
command:             ンド(command)を選択し、 submit ボタンを押して下さい
[subscribe  ]        。
[submit][reset]
                     subscribe   アドレスの追加
                     unsubscribe アドレスの削除
                     addadmin    リモート管理者アドレスの追加
                     byeadmin    リモート管理者アドレスの削除
options Language:    list        アドレスリストを見る
[Japanese] [change]  log         ログを見る
                     newml       ＭＬの作成
                     rmml        ＭＬの削除
</screen>
</para>


<para>
なお、画面の左下もしくは右にヘルプメッセージが表示されるので
それを参考にして下さい。
もちろんコマンドごとに異なります:)
</para>

</sect1>


<sect1 id="setup.cgi.admin.cgi.newml">
	<title>
	CGI の使い方の例: ＭＬの作成
	</title>

<para>
左の画面のコマンドで newml を選択肢、
submit ボタンを押して下さい。
ML 名を選択する必要はありません:)
</para>

<para>
中央に、ＭＬ名の入力を促す画面が現れるので、
作成するＭＬ名を入力し、中央の submit ボタンを押して下さい。
</para>

</sect1>


<sect1 id="setup.cgi.admin.cgi.subscribe">
	<title>
	CGI の使い方の例: メンバー登録
	</title>

<para>
左の画面のコマンドで ML 名と subscribe を選択肢、
submit ボタンを押して下さい。
</para>

<para>
中央に、アドレスの入力を促す画面が現れるので、
登録したいアドレスを入力し、
中央の submit ボタンを押して下さい。
</para>

</sect1>


</chapter>
