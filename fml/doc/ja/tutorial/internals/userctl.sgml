<!--
   $FML: userctl.sgml,v 1.2 2004/04/07 11:07:08 fukachan Exp $
-->


<chapter id="userctl">
	<title>
	ユーザの登録、削除について
	</title>


<sect1 id="userctl.deladd">
	<title>
	ユーザの追加と削除は何に対して行なうか？
	</title>

<para>
ユーザの追加と削除は何に対して行なうか？というと
追加は primary_*_map に対しておこないます。
削除も primary_*_map に対しておこないます。
</para>

<para>
たとえば、リモート管理者は
primary_admin_member_map と primary_admin_recipient_map の両方に
アドレスを追加します。
削除の際は、
primary_admin_member_map と primary_admin_recipient_map から
アドレスを削除します。
</para>

<para>
これを admin_member_maps と admin_recipient_maps にすると問題があります。
</para>

<para>
追加は、明らかに複数の map に追加してしまうので、一つに限定するべきです。
だから、primary_*_map 一つに対して行なう。
つまり、メンバーは primary_xxx_member_map ひとつに、
受信者は primary_xxx_recipient_map 一つに対して行ないます。
</para>

<para>
削除は、一見 *_maps でもよいような気がしますが、
実は駄目です。消し過ぎになってしまうことがあるからです。
特に問題になるのは、権限の異なる map が混在している場合です。
</para>

<para>
たとえば、member_maps はデフォルトで、リモート管理者を含んでいます。
<screen>
member_maps		=	$primary_member_map
				$admin_member_maps
</screen>
そのため、member_maps に対して削除を試みると、勢いあまってリモート管理
者の分も削除してしまうことになるというわけです。
</para>

</sect1>

</chapter>
