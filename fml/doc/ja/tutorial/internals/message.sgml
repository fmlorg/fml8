<!--
	$FML: message.sgml,v 1.3 2001/05/17 04:25:33 fukachan Exp $	
-->

<chapter id="message">
   <title> メール(メッセージ)の取り扱い </title>


<!-- ======================================= -->
<sect1>
   <title> Mail::Message クラス </title>

<para>
メールはヘッダに始まりボディ(メール本文)が続きます。
multipart のように、
ボディは複数の部分(パート)から成ることもあります。
</para>

<para>
メールの配送処理だけを考えると、
メール本文の細部の構造を気にする必要はありません。
一方、フィルタリングを始めとして、メール本文の解析を
必要としている処理は多々あります。
</para>

<para>
それらのモジュールのために Mail::Message クラスがあり、
メールの構造を表現するために用いられています。
このクラスは
Mail::Bounce や Mail::Delivery を始め、
いたるところで使われています。
</para>

<para>
例えば、このような使い方をします。
<screen>
    my $fh  = new FileHandle $file;
    my $msg = Mail::Message->parse( { fd => $fh } );

    use FML::Mailer;
    my $obj = new FML::Mailer;
    $obj->send( {
	sender    => $sender,
	recipient => $rcpt,
	message   => $msg,
    });
</screen>
</para>

</sect1>


<!-- ======================================= -->
<sect1>
   <title> Mail::Message::Parse クラス </title>

<para>
ダミーの派生クラスです。
これは Mail::Message::Compose と同様の階層を便宜上作っています。
あまり深い意味はありません。
</para>

<para>
パーサの実体は Mail::Message クラスの中にあります。
</para>

</sect1>


<!-- ======================================= -->
<sect1>
   <title> Mail::Message::Compose クラス </title>

<para>
これはメールを構築する際に用いるクラスですが、単なるアダプタです。
メールを作成する実体は 
CPAN の MIME::Lite クラスです。
作成のリクエストは
MIME::Lite クラスへ
丸投げされています。
</para>

<para>
使い方やメソッドについての詳細は MIME::Lite クラスを参照して下さい。
</para>

</sect1>


&sect.errormessage;

</chapter>
