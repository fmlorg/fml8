<chapter id="directory">
	<title>
	ディレクトリ
	</title>


<sect1>
	<title>
	Q: サブディレクトリ構造は何段階まで必要か？
	</title>

<para>
<screen>
200201/msg○○.html
</screen>
</para>

<para>
デフォルトは一段階を前提にしています。
</para>

<para>
現代の性能では、ディレクトリ中に 1000 くらいの構造なら、あってもほとん
ど瞬時に ls は返ってきますが、10000 ともなるとちょっと考えちゃう。
</para>

<para>
HTML 化されたディレクトリや sub は 1000 ごとに用意すると、例えば 
spool/sub/file みたいにすると spool/ 以下で 10^6 ( million )くらいはそ
れなりのアクセス速度を保ちつつ格納できるはず。
</para>

<para>
一つのＭＬで 100 万通はなかなかいかないだろうから、まぁいいとこでしょう。
もう一段階いくと 10^9 くらいいくけど、そこまでいかんだろう。
</para>

<para>
なお Maildir/ なんかは 100 万くらいじゃちょっとつらいだろうから、２レ
ベルくらいにするだろうと。ここでは関係ない議論だけど。
メールを一万通ためる人が100人いるだけでもうだめ。
</para>

</sect1>


</chapter>
