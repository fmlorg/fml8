<!--
   $FML: chapter.sgml,v 1.8 2002/02/26 14:15:28 fukachan Exp $
-->

<chapter id="overview"> 
	<title>
	&fmldevel; の概要
	</title>

<important>

<para>
&fmldevel; は &fml4; 相当のものを完全に一から書き直すプロジェクトです。
使い方の見かけは &fml4; に"似せて"います。
主な注意点は 
root での作業、 configure の使用、
そして /etc/fml/ 以下のファイル、
特に /etc/fml/main.cf というグローバルな設定ファイルです。
</para>

</important>

<sect1>
	<title>
	インストール作業の概略 
	</title>

<para>
以下で、特に触れていない概念(例: ＭＬとは？)については &fml4; と同様です。
くわしくは &fml4; の資料(
	<ulink url="http://www.fml.org/fml/">
	http://www.fml.org/fml/
	</ulink>
	や
	&fmlbible;
)を適宜、参照して下さい。
</para>

<para>
さて、いつものように elena ＭＬの作成過程を例にとりましょう。
インストールのおおまかな流れは次のようになります。
</para>


<orderedlist>
   <listitem>
	<para>
	<link linkend="download">
	ソースをダウンロードして、展開して下さい。
	</link>
	</para>
   </listitem>

   <listitem>
	<para>
	<link linkend="install">
	ユーザ root でインストールをする。
	まず、ユーザ fml とグループ fml を作成し、
	<link linkend="install.configure">
	configure
	</link>
	および make を実行して下さい。
	</link>
<screen>
% su root
# groupadd fml
# useradd -m -g fml fml
# ./configure
# make install
</screen>
	</para>

	<para>
	(デフォルトでは)インストーラは /usr/local/bin 
		<footnote>
		<para>
		デフォルトでは /usr/local ディレクトリ以下に
		適宜サブディレクトリが作られます。
		<link linkend="install.configure">
		configure のオプション 
		</link>
		で変更が可能です。
		</para>
		</footnote>
	に 
	fmldoc fmlconf fmlthread makefml fmlhtmlify fmlsch
	などをインストールします。
	実は、
	これらは
	/usr/local/libexec/fml の下の実体を呼び出す単なる
	wrapper です。
	</para>
   </listitem>


   <listitem>
	<para>
	<link linkend="guide.newml">
	ユーザ fml で elena ＭＬを作る。 
	</link>
<screen>
% su fml
% makefml newml elena
</screen>
	</para>
   </listitem>


   <listitem>
	<para>
	MTA から fml を起動するために
	/etc/mail/aliases の設定などをしてください。
	</para>
   </listitem>


   <listitem>
	<para>
	ＭＬ の動作テストをしてください。
	</para>
   </listitem>


   <listitem>
	<para>
	<link linkend="guide.config.cf">
	ＭＬ のカスタマイズをする。 
	</link>
	</para>
   </listitem>

</orderedlist>

<warning>
<para>
&fml4; と異なり root でインストールすることに注意して下さい。
</para>
</warning>

</sect1>


<!-- ============================================================= -->
<sect1 id="guide.newml">

   <title> ＭＬを作る </title>

<para>
makefml を使ってＭＬを作成します。
(デフォルトドメインの場合) makefml 使い方は &fml4; の時と同様です。
<screen>
% su fml
% makefml newml elena
</screen>
詳しくは
<link linkend="usage.newml">
<xref linkend="usage.newml">
</link>
を参照してください。
</para>

</sect1>


<sect1 id="guide.config.cf">
	<title>
	カスタマイズをする
	</title>

<para>
elena ＭＬの設定のカスタマイズは /var/spool/ml/elena/config.cf を編集
して下さい。
フォーマットは postfix の設定ファイルと同様というとわかりやすいでしょう。
(&fml4; の config.ph よりは cf にやや近いですが)
</para>

<para>
適宜必要な項目だけを追加して下さい。
指定しない場合はデフォルト値が使われます。
デフォルト値はインストールしたバージョンに依存しており、
<screen>
/etc/fml/defaults/バージョン番号/default_config.cf
</screen>
というファイル中で定義されています。
これは perl のライブラリが /usr/local/lib/perl/5.00503/ のように
バージョン番号付のディレクトリに置かれるのと似ています。
</para>

<para>
また、ライブラリなどのインストール先も fml のバージョンごとに
別のディレクトリになっていることに注意して下さい。
この仕組みのおかげでアップグレードしても元に戻すのが簡単です。
これは &fml5; の特徴です。
</para>

</sect1>

</chapter>
