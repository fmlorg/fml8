<!--
	$FML: command.sgml,v 1.1 2001/11/24 03:22:58 fukachan Exp $
-->

<chapter id="fml.command.bymail">
	<title>
	コマンドメール (fml をメールで操作する)
	</title>

<para>
fml にメールで文字列(コマンド)を送り込むことで、fml に特定の処理をして
もらうことができます。例えば、メンバーの登録、削除や、過去の記事を取り
寄せるなどの処理です。
</para>


<para>
&fmldevel;  では
<screen>
メールによるコマンド処理
makefml によるコマンド処理
CGI でのコマンド処理
</screen>
これらすべての機能が FML::Command:: クラスのモジュールを使うように
設計されています。
</para>


<sect1 id="fml.command.bymail.flow">
	<title>
	処理の流れ
	</title>

<para>
elena ＭＬの場合、
コマンドメールを elena-ctl@fml.org に送信してください。
メールは MTA が受け、最終的に MTA は
/usr/local/libexec/fml/fml.pl --ctladdr
(もしくは /usr/local/libexec/fml/command )
というコマンドを実行します。
fml.pl はメールを標準入力から受けとり、
ＭＬとして必要な処理をした後、MTA へ配送を委ねます。
</para>

<warning>
<para>
4.0 と違い、5.0 ではコマンドの結果を
<link linkend="message.reply">
一通のメール ( MIME/Multipart )にまとめて返送
</link>
しています。
</para>
</warning>

</sect1>


<!-- モジュールの使い方について、 FML::Command:: 以下の話 -->
&sect.command.module;

<!-- コマンドの拡張例 -->
&sect.command.extension;

&sect.command.internal;

</chapter>
