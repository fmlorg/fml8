<!--
   $FML: chapter.onhost.sgml,v 1.4 2003/01/05 08:03:22 fukachan Exp $
-->

<chapter id="usage.onhost">
	<title>
	ＭＬサーバのホスト上でコマンドを使ってできること
	(ＭＬの一番偉い管理者にできること)
	</title>


<para>
makefml の基本的な使い方は &fml4; の makefml と同様です。
というより、できるだけ互換性を保つように構築する予定です。
</para>

<sect1>
	<title>
	ホスト上でできること、その権限について
	</title>

<para>
現状 makefml に命令を与えると admin コマンドと同じ動作をするようになっ
ています。
つまり特権的な動作ということです。
例えば、メンバーの登録に confirmation は必要ありません。
</para>

<para>
ＭＬサーバのホストに入ることができる(例: slogin してシェルが取れる)
人は、通常ＭＬにとって最強の人を意味します。
ファイルを直接編集することで、どんなことでもできるわけですから、
無敵です。
</para>

<para>
しかしながら、人間間違いを犯すもので、ついフォーマットを
間違えるといったことがあります。
</para>

<para>
そのため、通常は makefml ( /usr/local/bin/makefml )を
使うことで、fml を操作して下さい。
というのが fml の操作ポリシーです。
もちろんファイルを編集しても構いませんが。
</para>

<para>
なお、fml コマンドは引数の順番の異なる makefml です。
コマンドの中身/動作は同じですので、
シンタックスの好き嫌いでどちらかを選んで使って下さい。
<screen>
makefml コマンド ＭＬ名 オプション
fml     ＭＬ名 コマンド オプション
</screen>
</para>

</sect1>


<sect1 id="usage.commandpolicy">
	<title>
	コマンドを用意する基準
	</title>

<para>
&fmldevel; では、機能ごとに個別にコマンドを用意するようにしていますが、
やたらと多くなるだけなので、以下のような基準に基づき用意することにしま
す(2003/03 記)。
</para>

<para>
できるだけ分離しないで makefml に統合するべきかな〜と思います。
てきぎ admin コマンドや CGI でも使えるようになりうるので、
再利用性が高いですしね。
</para>


<setc2>
	<title>
	特定のＭＬに操作を施すコマンド
	</title>

<para>
特定のＭＬに対し、何らかのデータを見るだけでなく操作をする可能性がある
なら、makefml (or fml) のコマンドとして実装する。
<screen>
makefml コマンド ＭＬ名 オプション
fml     ＭＬ名 コマンド オプション
</screen>
</para>

</sect2>


<setc2>
	<title>
	データを見るだけのコマンド
	</title>


<para>
特定のＭＬと関わりのないものもある。モジュールのドキュメントを見るとか、
OS のアカウントやエイリアス一覧を表示させる類のものだ。
これは fml が頭文字につくコマンドを別途用意する。
<screen>
fmladdr	 [-n]
fmlalias [-n]
fmldoc   モジュール名
fmlconf  [-n] $ml
</screen>
</para>

</setc2>


<setc2>
	<title>
	操作を施すコマンドだが、特定のＭＬとの関わりはないかも知れないタイプ
	</title>

<para>
これが一番困るケースのような気がする。
どうしても作る必要があるなら、
fml が頭文字につくコマンドを別途用意する。
</para>

<para>
例: 記事のスプールを HTML 化する。
でも、fml に限らず、MH フォルダでも構わない。
<screen>
fmlhtmlify [-I DIR] $src_dir $dst_dir
</screen>
</para>

</sect2>


</sect1>


&sect.usage.makefml;
&sect.usage.fml;
&sect.usage.fmladdr;
&sect.usage.fmlalias;
&sect.usage.fmlconf;
&sect.usage.fmldoc;
&sect.usage.fmlthread;
&sect.usage.fmlhtmlify;
&sect.usage.fmlsummary;

</chapter>
