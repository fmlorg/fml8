X-Sequence: fml-devel 204

Q:  sql の設定を一つの cf ファイルに書けるようにしておきたい

A1: グルーピングの表現

	mysql:ID などと書いた時に、その ID でのグルーピングを表現でき
	れば良い？ じゃ .ini 形式か？ :-)

A2: SQL 構文も書けるようにしておけばよい？

	関数が呼ばれた時に始めて決まる変数もあるので
	cf で全部定義することはできない。

	lexical scope で取り扱われる変数の表現があれば解決？
	例: &varname 記法(下記)

	注: IO::Adapter は new IO::Adapter $mapname $config などとする

○ cf の例：

member_maps 	= 	mysql:database

recipient_maps 	= 	mysql:database

[mysql:database]

sql_server	=	localhost
sql_user	=	fml
sql_password	=	pa$$word
sql_database	=	ml
sql_table	=	fml

get_next_key	=	select address from $sql_table
			where ml = '&ml_name' and type = '&type'

getline		=	select * from $sql_table
			where ml = '&ml_name' and type = '&type'

add		=	insert into $sql_table
			values ('$ml_name', '&address', '&type')

delete		=	delete from $sql_table
			where ml = '&ml_name' and addrss = '&address'

find		=	select * from $sql_table
			where ml = '&ml_name' and address like '&regexp'

