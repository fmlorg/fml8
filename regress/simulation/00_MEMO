		雑多なメモ
		Last Modified: $Date$

	XXX fml 4.0 と同じディレクトリ名は使わないように
	XXX 作業したら TODO/STATUS.txt もアップデートしてね
	XXX このファイルは、なる早で解決する/bug fix するべきもの
        XXX 遠大なビジョンやとりあえず後まわしでよいものは STATUS.txt へ


[TODO]	使ってないモジュール?

		FML::Data::Deadline
		FML::IPC::Message
		FML::Process::QMail
		FML::Sys::Alias
		File::Rotate


[TODO]	変数の ...s vs _list 

	xxxs vs xxx_list ?
	"all of" vs "either of" ?

		cgi_language_list
		cgi_menu_address_map_list
		error_analyzer_function_list
		newml_command_mta_config_list
		rmml_command_mta_config_list
		template_file_charset_list

	select?
	choice?


[TODO]	charset と言語(japanese,english)との対応関係を一箇所にまとめて定義

	[CHECK]	
		FML/Process/Utils.pm
		FML/Header/Subject.pm
		FML/Article/Summary.pm
		Mail/Message/Encode.pm
		Mail/Message/ToHTML.pm
 
	OUTPUT をどうすればよいか？で決まる処理はなんとかなる。
	入力は自動判定になるが、出力は設定ファイルで決まる。

	問題は HTML 化のような入力が動的に変化する場合だ。
	基本的に入力は自動判定ということで、処理は同様なのだが、
	出力(たとえば .html の content-type)も入力と同期して変化するべきだ。


[TODO]	スレッド関連のモジュール全部見直せよ

	スレッド DB 再生成の呪文がないよ;)

	スレッドその他のエンジンもそれを使うことになる。

	MTI との統合

	output とモードの明瞭化を
	どこでどう CSS とたたかうの？

	index.html (fml-devel 234)
	 	最近のＭＬのレビュー
	 		＋
	 	選択画面 → index thread monthly

	subdir によって、ちょくせつのリンクがつらい？

	あるごりずむ ?

 	+
		+
			+ (3)


	+ (4)
		+

	となっているときに (3) の next_thread はいつ次のリンクがわかる
	のか？予言できない。過去に向かってスレッドを修正するアルゴリズ
	ムなので、過去の修正がいつ行なわれるかは良くわからない;)

	→ (4) が来た時に (3) を修正するべき？

	とりあえず、すれっど全部のファイルに修正を試みるべきだ。
	ローカルな更新は、あまりよい結果にならないようだ。



======================================================================
○		アドレスの操作


[TODO]	受信者としてだけの登録 (add2actives 相当、メールマガジンなど)は？

	admin コマンド アドレス        --as-recipient

	例:
	admin useradd  rudo@nuinui.net --as-recipient

	?

	＊ こういう形式を認めると言うのはどうだ？

		fml $ml コマンド-サブコマンド アドレス
		fml $ml useradd-as-recipient アドレス

	やっぱり、むりだろな、すなおに

		addrecipient	== add2actives
		addmember	== add2members

	?	


[TODO]	reply-to: special hack

	   if (	To: ml1, ml2 ) {
		set Reply-To: ml1, ml2
	   }

	if ($curproc->is_managed_ml_address($address)) {
		...
	}


[TODO]	xxx_restrictions = pgp_signature_check ?



======================================================================
○		FNF-ify およびドキュメント



[TODO]	HOOK のガイドライン？

	どの HOOK あたりで、なにをかくべきか？


[TODO]	01_RFC_IO_ADAPTER.txt

	PostgreSQL をかけ


[TODO]	ドキュメント( tutorial )

	module/Mail::Message::ToHTML

	usage/ がいまいち
	fml bible のパートIIIの最初の部分のように編成し直すべき


[TODO]	ドキュメントの翻訳

	どうやってシンクロするの？


[TODO]	remove $msg->{ next }

	FML/Filter/TextPlain.pm
	Mail/Message/ToHTML.pm
	Mail/Message.pm
	Mail/Bounce/Postfix19991231.pm
	Mail/Bounce/Qmail.pm


[TODO]	2002,2003 年のオーバホールの残り

  ＊おもたい
	FML/Process/Kernel.pm
	Mail/Message.pm

   * IN/OUT のチェック
	Mail/Message/ToHTML.pm

	OUT のちぇっくで最重要なのは？

	Mail/Message/ToHTML.pm

	Mail/Message/Print などに集結させるべきだろう？
		print_axss (against cross site scripting).

  * ちょっとコーディングスタイルが古いかな?

	FML::Header
	FML::Header::Subject
	File::Sequence
	Mail::Delivery::* (?)
	FML::Filter::TextPlain
	FML::Filter::Header

  * 2003-2004 オーバホール、やりのこし
	FML/Log.pm
	FML/Process/Kernel.pm
	FML/Process/Switch.pm

    スレッドモジュールの改変があるので、この辺もとりあえずオーバホール無視
	Mail/Message.pm
	Mail/Message/Thread.pm
	Mail/Message/ToHTML.pm


======================================================================
○	内部構造


[TODO]	エラートラップ・フレームワーク


[TODO]	FML::PCB、FML::Config は、コンテキスト切替時にどうする？


[TODO]	File::* は、なるたけ、なくすべきだとおもうなぁ。

	- File::SimpleLock
	- File::Rotate
		つかってない or つかわないようにかいしゃくした

	- File::CacheDir
		FML/Error/Cache.pm
		FML/Process/Kernel.pm

	- File::Sequence
		File/CacheDir.pm

			increment_id()		つかわれてる
			get_id()		つかわれてる
			set_id()		つかわれてる
			search_max_id()		つかわれていない


	- File::Utils

		used		ok, not used.
		--------------------------------
				error
				error_clear
				mkdirhier
		touch (File::Sequence がつかってるだけ)
				search_program
				copy
				append



[TODO]	フィルタ関数は、やっぱり FML::Filter 以下に集結している
	べきかもしれない？ FML::Command::Filter ?
	FML::Article::Filter はないのに？


[TODO]	FML::Restriction って、これでいいのか？

	->regexp_match() は、まぁいいとおもうが、それいがいのところ


[TODO]	FML::Restriction::* のつかいかた

		FML/Process/CGI/Param.pm


[TODO]	IO::Adapter::LDAP


[TODO]	IO::Adapter の SQL まわりの改良を？

	ん？もういいのかな？


[TODO]	udb_write_map ?

	local いがいのばあい、はどうすればいいの？
	MySQL につっこみたいとか〜


[TODO]	FML/Process/00_USAGE


[TODO]	FML::Command::Admin::dir
	cgi_menu() ?
	ディレクトリ listing してくれる perl module ないかな？


======================================================================
○	用意しただけ/途中も途中…


[TODO]	ファイルを用意しただけやんシリーズ;)
	これから改造するので、ほとんど未修正のままのこす

		一度削除するか？

	FML::Process::Qmail


----------
$FML: 00_MEMO,v 1.108 2004/03/21 03:15:37 fukachan Exp $
