		雑多なメモ
		Last Modified: $Date$

	XXX 作業したら TODO/STATUS.txt もアップデートしてね XXX

	XXX
	XXX fml 4.0 と同じディレクトリ名は使わないように    XXX
	XXX


[TODO]	fml 4 の cf を解釈できる互換ルーチン

	cf シンタックスを読んで、
	＃ そういえば、Config::Tiny で出来るね

	8 の .cf シンタックスに置き換えて
	値をよろしく変換する （←ここがむずかしー）


[TODO]	ＭＬの管理者へエラーを転送する機能

	libexec/maitainer_notify なんてのも?
		IO::Adpater つかえないとだめじゃん


[TODO]	「このＭＬはもうありません」

	libexec/relocated , Process/Relocated とかじゃだめだね。
	libexec/ の下の全部のプログラム全部が対応するべきのような…
	つまり
		ml
		ml-ctl
	宛に来たもの両方に返事を返すべきだろう。
	でも、ml-error はちがうだろうなぁ


[TODO]	01_RFC_IO_ADAPTER.txt
[TODO]	01_RFC_UPGRADE.txt

	かんがえよー／まとめようー


[TODO]	01_RFC_FILTER.txt

	もう OK ぽいので、ドキュメント化


[TODO]	フィルタで弾いた時のエラーメール

multipart でつき返すのと、plain/text としてつきかえすの
が選択できるといいかなとおもうのです。multipart で送り返すことの問題は

	MUA で普通に読めた方がいいのはわかるけど、
	ウィルスだったらどうするよ？

というあたりっす。ヘッダを隠しちゃう MUA の罠を回避するってのもあるけ
どそれは二次的すね（今時の MUA には、どれでも、ヘッダを全部見るオプショ
ンがあると思いたい）。


[TODO]	フィルタの拡張機能？

	Q: content-type が正しいかどうかを調べる
		image/gif なら本当に gif ?

	A: ん〜全部は無理だなぁ。File::なんとかで、
	   ファイルのタイプを識別するモジュールとかあれば OK なのかも
	   しれず(?)


	Q: まだ、text/plain 部分は言語依存パートになってない。

	だいたい言語依存とかいうなら virus checker を切り離せよ ＞ お
	れなど、てんこもりなので、text_plain_filter ってちょっと整理が
	大変だなと。


[TODO]	fml $ml spool {status,convert}: --srcdir= とか必要じゃない？

		コマンドラインオプションは、OK？


[TODO]	受信者としてだけの登録 (add2actives 相当、メールマガジンなど)は？

	admin コマンド アドレス        --as-recipient

	例:
	admin useradd  rudo@nuinui.net --as-recipient

	?

	＊ こういう形式を認めると言うのはどうだ？

		fml $ml コマンド-サブコマンド アドレス
		fml $ml useradd-as-recipient アドレス


[TODO]	off/on の問題

	on は primary_recipient_map にだけ作用するが、
	off は recipient_maps すべてに作用する(マッチする全ての map を
	変化させる)

	unsubscribe はすべての map をサーチし、該当するもの全てを
	削除する。	 

	いや、「どの *map からはずしたか」をどこかに保存しておいて、
	適宜戻すようにしないといけない？

	複数マッチするものがあったらどうするの？


[TODO]	reply-to: special hack

	   if (	To: ml1, ml2 ) {
		set Reply-To: ml1, ml2
	   }


[TODO]	Accept-Language: を考慮する


[TODO]	IO::Adapter

	get_*() には File or !File にだけしかないのがある？

	% grep -r 'sub get' ...

		IO::Adapter::File	sub get_value_as_str
		IO::Adapter::File	sub get_value_as_array_ref

	XXX get_value_as_* ってつかわれてはいないのですよ、いまはね

	SQL まわりの改良を （もういいの？）

	write LDAP ;-)

   [チェックリスト]
	IO/Adapter/File.pm

	IO/Adapter/Array.pm
		IO/Adapter/NIS.pm
		IO/Adapter/UnixGroup.pm

	IO/Adapter/DBI.pm
		IO/Adapter/MySQL.pm


[TODO]	時間つき newml だと、あれか…

	libexec/auto-newml ?


[TODO]	時間つき subscribe 

	subscribe -> 一カ月すると削除される？


[TODO]	フィルタ: 古いメールは SPAM に違いない


[TODO]	digest こまんど？ for CGI


[TODO]	digest こまんど？ for user


[TODO]	makefml で動くもの、動かないものは何？

			get	***disabled***
			mget	***disabled***
			send	***disabled***
			password	不要？
			pass		不要？
			dir 	＊不要？
			ls 	＊不要？
			file 	＊不要？
			list 	＊不要？

	* CGI でも不要？

		dir ls file

	   FML::Command::Admin::dir
		cgi_menu() ?
		ディレクトリ listing してくれる perl module ないかな？

	* makefml get ???

	ところで、誰に送信するんじゃ？ :-) って、そうか、makefml じゃ
	なくて admin コマンドの時は考えなくてもいいからだな、それは …


[TODO]	FML::Process::Scheduler ってかなり？

	うーん、なかみがない。予約だけされてるモジュールやね
	mkdir するだけ？ :-)


[TODO]	Mail::Message::Encode へマージしたいもの

	Mail/Message/Decode.pm
	Mail/Message/Encode.pm
		はどうする？

	FML::Language を削除
	FML::Language::ISO2022JP を削除
		実態は以下の2つのクラス

	FML::Language::Japanese::String
		STR2EUC()
		STR2JIS()
		STR2SJIS()


	FML::Language::Japanese::Utils
		is_iso2022jp_string()
		_look_not_iso2022jp_string()
		compare_euc_string()

	[TODO]

	Mail/ThreadTrack/Print/Utils.pm に STR2EUC がある


[TODO]	スレッド関連のモジュール全部見直せよ

	Mail::ThreadTrack のクリーニング

	fml $ml thread $subcommand: モジュールの clean up

	スレッド関連のモジュール全部見直せよ

		コマンドラインオプションは、OK？

		Mail::ThreadTrack
		FML::Command::Admin::thread
		FML::Article::Thread		(不要じゃないの？)

	どこに、なんのメソッドがあるべきなのか？	

	output とモードの明瞭化を
	どこでどう CSS とたたかうの？
	Mail::ThreadTrack::Analyze をきれいにしないとね


	index.html (fml-devel 234)
	 	最近のＭＬのレビュー 
	 		＋
	 	選択画面 → index thread monthly

	ちょっと見栄えが？
		見栄えを config.cgi などと合わせる方が良いでしょう
		＃ テーブルベースの見栄え

	ドキュメントの見直し（？）

	subdir によって、ちょくせつのリンクがつらい？

	あるごりずむ ?

 	+
		+
			+ (3)


	+ (4)
		+

	となっているときに (3) の next_thread はいつ次のリンクがわかる
	のか？予言できない。過去に向かってスレッドを修正するアルゴリズ
	ムなので、過去の修正がいつ行なわれるかは良くわからない;)

	→ (4) が来た時に (3) を修正するべき？

	とりあえず、すれっど全部のファイルに修正を試みるべきだ。
	ローカルな更新は、あまりよい結果にならないようだ。


======================================================================
		FNF-ify およびドキュメント


[TODO]	ドキュメント( tutorial )

	module/Mail::Message::ToHTML
	threadtrack/chapter.sgml
	threadtrack/tools.sgml
	
	usage/ がいまいち
	fml bible のパートIIIの最初の部分のように編成し直すべき


[TODO]	2002 年のオーバホールの残り

  ＊ 要 BUG FIX
	Mail/Delivery/SMTP.pm

  ＊おもたい
	FML/Process/Kernel.pm
	Mail/Message.pm

   * IN/OUT のチェック
	Mail/Message/ToHTML.pm

	OUT のちぇっくで最重要なのは？

	Mail/Message/ToHTML.pm
	Mail/ThreadTrack/Print

	Mail/Message/Print などに集結させるべきだろう？

		print_axss (against cross site scripting).


[TODO]	ファイルを用意しただけやんシリーズ;)
	これから改造するので、ほとんど未修正のままのこす

		一度削除するか？

	FML::Process::Qmail
	FML::Filter::TrafficMonitor


[TODO]	remove $msg->{ next }

	FML/Filter/TextPlain.pm
	Mail/Message/ToHTML.pm
	Mail/Message.pm
	Mail/Bounce/Postfix19991231.pm
	Mail/Bounce/Qmail.pm


[TODO]	ちょっとコーディングスタイルが古いかな?

		FML::Header
		FML::Header::Subject
		File::Sequence
		Mail::Delivery::* (?)
		FML::Filter::TextPlain
		FML::Filter::Header

	ちょっとコーディングスタイルが古いかな?
	近々に見直すべし


----------
$FML: 00_MEMO,v 1.73 2003/04/13 03:33:59 fukachan Exp $
